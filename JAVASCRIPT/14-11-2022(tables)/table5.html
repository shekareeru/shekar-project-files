<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <table border="2px"> 
        <thead>
        <tr>
        <th>Id</th>
        <th> UserId</th>
        <th>Date</th>
        <th>Products</th>
    </tr>
    </thead>
    <tbody>

    </tbody>
    </table>
    <script src="data1.js"></script>

    <script>
        users.forEach((usersItem)=>{
           // console.log(users)
            var mytr=document.createElement("tr")
            for( a in usersItem){
                var  mytd=document.createElement("td")
               if(a!=="products"&& a!=="__v"&& a!=="date"){
                mytd.innerHTML=usersItem[a]
                mytr.appendChild(mytd)
               }else if(a == "products"){
                var prodtable=document.createElement("table");
                usersItem[a].forEach((item)=>{
                    var  prodtr=document.createElement("tr")
                    for(c in item){
                        var prodtd=document.createElement("td")
                        prodtd.innerHTML=c+" :"+item[c];
                       prodtr.appendChild(prodtd)
                    }
                    prodtable.appendChild(prodtr);
                })
                mytd.appendChild(prodtable);
                mytr.appendChild(mytd);
               }
               else if(a == "date"){
                mytd.innerHTML= new Date(usersItem[a]).toDateString();
                mytr.appendChild(mytd)

               }
               
            }
            document.querySelector("tbody").appendChild(mytr)
        });
       


    </script>
    
</body>
</html>